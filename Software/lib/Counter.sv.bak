module Counter
#(
    W = 8,
    Max_cnt = 255
)

(
    input  clk,
    input  clrn,
    input  sclr,
    input  ena,
    
    output rollover,
    output [W-1 : 0]q
);

bit [W-1 : 0]counter;

always_ff (posedge clk or negedge clrn)
begin
    if (~clrn)
        counter <= '0;
    else if (sclr)
        counter <= '0;
    else if (counter == Max_cnt)
        counter <= '0;
    else if (ena)
        counter <= counter + 1'd1;
    else 
        counter <= counter;
end

assign rollover = (counter == Max_cnt);

endmodule:Counter
